ALTER TABLE `dpd_survey_survey` ADD CONSTRAINT `fk_survey_category` 
FOREIGN KEY (`category_id`) REFERENCES `codeigniter`.`dpd_survey_category`(`id`) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE `dpd_survey_answer` DROP FOREIGN KEY `FK_SURVEY_USER_ID`; 
ALTER TABLE `dpd_survey_answer` ADD CONSTRAINT `FK_SURVEY_USER_ID` 
FOREIGN KEY (`user_id`) REFERENCES `codeigniter`.`dpd_aauth_users`(`id`) ON DELETE NO ACTION ON UPDATE NO ACTION;


ALTER TABLE `dpd_survey_answer` DROP FOREIGN KEY `FK_SURVEY_ANSWER_SURVEY_ID`;
ALTER TABLE `dpd_survey_answer` ADD CONSTRAINT `FK_SURVEY_ANSWER_SURVEY_ID` 
FOREIGN KEY (`survey_id`) REFERENCES `codeigniter`.`dpd_survey_survey`(`id`) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE `dpd_survey_answer` DROP FOREIGN KEY `FK_SURVEY_ANSWER_QUESTION_ID`;
ALTER TABLE `dpd_survey_answer` ADD CONSTRAINT `FK_SURVEY_ANSWER_QUESTION_ID` 
FOREIGN KEY (`question_id`) REFERENCES `codeigniter`.`dpd_survey_question`(`id`) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE `dpd_survey_question` DROP FOREIGN KEY `FK_SURVEY_QUESTION_SURVEY_ID`; 
ALTER TABLE `dpd_survey_question` ADD CONSTRAINT `FK_SURVEY_QUESTION_SURVEY_ID` 
FOREIGN KEY (`survey_id`) REFERENCES `codeigniter`.`dpd_survey_survey`(`id`) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE `dpd_survey_answer` DROP FOREIGN KEY `FK_SURVEY_USER_ID`; 
ALTER TABLE `dpd_survey_answer` DROP FOREIGN KEY `FK_SURVEY_ANSWER_SURVEY_ID`; 
ALTER TABLE `dpd_survey_answer` DROP FOREIGN KEY `FK_SURVEY_ANSWER_QUESTION_ID`;

ALTER TABLE `dpd_survey_field` DROP FOREIGN KEY `FK_SURVEY_FIELD_QUESTION_ID`;

ALTER TABLE `dpd_survey_question` DROP FOREIGN KEY `FK_SURVEY_QUESTION_SURVEY_ID`;

ALTER TABLE `dpd_survey_survey` DROP FOREIGN KEY `fk_survey_category`;
ALTER TABLE `dpd_survey_survey` CHANGE `category_id` `assigne_id` INT(10) UNSIGNED NOT NULL DEFAULT '0';